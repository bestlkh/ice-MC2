<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1, shrink-to-fit=no">
<div class="login-box">
  <div class="login-logo">
    <a href="/"><b>MCÂ²</b>Chat<small></small></a>
  </div><!-- /.login-logo -->

  <div ng-if="isLoading">
    <wave-spinner></wave-spinner>
  </div>
  <div ng-if="!isLoading">
    <div ng-if="!(roomId && isJoin)" class="selector-wrapper2">

      <div ng-class="{'create-button2': true, 'orange-button2': true, 'button-active2': !isJoin}" ng-click="toggle(false);">
        CREATE ROOM
      </div>
      <div ng-class="{'join-button2': true, 'orange-button2': true, 'button-active2': isJoin}" ng-click="toggle(true);">
        JOIN ROOM
      </div>

    </div>
    <div class="card login-box-body notif-popup" ng-if="errMsg.indexOf('exist') !== -1 && isJoin">
      <div>Room does not exist. Create it?</div>
      <button type="submit" class="btn btn-primary btn-block btn-flat" ng-click="redirect(true)">Create</button>
    </div>
    <div ng-if="error" class="login-box-body card" ng-class="{'no-toggle': roomId && isJoin}">
      <div class="error" style="text-align: center;">{{error.message}}</div>
    </div>

    <div ng-if="!error" class="login-box-body card" ng-class="{'no-toggle': roomId && isJoin}">
      <h4 ng-if="!roomId || !isJoin" class="login-box-msg">Sign in to get started...</h4>
      <h4 ng-if="roomId && isJoin && !trackId" class="login-box-msg">Sign in to join room <b>{{roomId}}</b></h4>
      <h4 ng-if="roomId && isJoin && trackId" class="login-box-msg">Welcome <b>{{utorid}}</b>, sign into <b>{{roomId}}</b></h4>
      <form>
        <div class="form-group errGroup">
        </div>
        <div ng-class="{'form-group':true, 'has-feedback':true, 'has-error':isErrorReq}">
            <input id="username" type="text" class="form-control" placeholder="Username" ng-model="form.username" ng-change="isErrorReq=isErrorNick=false;changeInitials();" focus-me="true"/>

            <input ng-if="!roomId" required id="room" type="text" class="form-control" placeholder="Room name" ng-model="form.roomId" />
            <input ng-if="roomId && !isJoin" required id="room" type="text" class="form-control" placeholder="Room name" ng-model="form.roomId" />
            <hr>
            <input id="nickname" required type="text" class="form-control" placeholder="Initials (2 char. max)" ng-model="form.initials" ng-change="isErrorReq=isErrorNick=false;" onkeydown="limit(this);" onkeyup="limit(this);"/>

            <span ng-hide="isErrorNick" class="glyphicon glyphicon-user form-control-feedback"></span>
            <span ng-hide="!isErrorNick" class="glyphicon glyphicon-remove form-control-feedback errText"></span>
        </div>
        <div class="form-group has-feedback">
            <div class="col-sm-12">
              <p class="login-box-msg">Choose your theme</p>
            </div>
        </div>
      <div class="form-group has-feedback" style="margin-bottom: 0">
        <div class="avatar-thumb">
          <img src="app/css/dist/img/Avatar1.jpg" ng-class="{'avatar-selected': userAvatar==='Avatar1.jpg', 'avatar':true}" id="Avatar1" ng-click="changeAvatar('Avatar1.jpg')"/>
        </div>
          <div class="avatar-thumb">
              <img src="app/css/dist/img/Avatar2.jpg" ng-class="{'avatar-selected': userAvatar==='Avatar2.jpg', 'avatar':true}" id="Avatar2" ng-click="changeAvatar('Avatar2.jpg')"/>
            </div>
            <div class="avatar-thumb">
              <img src="app/css/dist/img/Avatar3.jpg" ng-class="{'avatar-selected': userAvatar==='Avatar3.jpg', 'avatar':true}" id="Avatar3" ng-click="changeAvatar('Avatar3.jpg')"/>
            </div>
            <div class="avatar-thumb">
              <img src="app/css/dist/img/Avatar4.jpg" ng-class="{'avatar-selected': userAvatar==='Avatar4.jpg', 'avatar':true}" id="Avatar4" ng-click="changeAvatar('Avatar4.jpg')"/>
            </div>
            <div class="avatar-thumb">
              <img src="app/css/dist/img/Avatar5.jpg" ng-class="{'avatar-selected': userAvatar==='Avatar5.jpg', 'avatar':true}" id="Avatar5" ng-click="changeAvatar('Avatar5.jpg')"/>
            </div>
            <div class="avatar-thumb">
              <img src="app/css/dist/img/Avatar6.jpg" ng-class="{'avatar-selected': userAvatar==='Avatar6.jpg', 'avatar':true}" id="Avatar6" ng-click="changeAvatar('Avatar6.jpg')"/>
            </div>
            <div class="avatar-thumb">
              <img src="app/css/dist/img/Avatar7.jpg" ng-class="{'avatar-selected': userAvatar==='Avatar7.jpg', 'avatar':true}" id="Avatar7" ng-click="changeAvatar('Avatar7.jpg')"/>
            </div>
            <div class="avatar-thumb">
              <img src="app/css/dist/img/Avatar8.jpg" ng-class="{'avatar-selected': userAvatar==='Avatar8.jpg', 'avatar':true}" id="Avatar8" ng-click="changeAvatar('Avatar8.jpg')"/>
            </div>
        <div class="chat-box"></div>
        <br><br>
        </div><!-- /Avatar Div -->

          <div class="row">
            <div class="col-xs-12">
              <button type="submit" class="btn btn-primary btn-block btn-flat" ng-click="redirect()">Start</button>
              <button ng-if="roomId" class="btn btn-primary btn-block btn-flat" ng-click="onInstructorLogin()">Login as instructor</button>
            </div><!-- /.col -->
        </div><!-- /.row -->

      </form><!-- / form -->
    </div><!-- /.login-box-body -->
  </div>



</div><!-- /.login-box -->