{"version":3,"sources":["driver.js"],"names":["_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","create","constructor","value","setPrototypeOf","__proto__","_classCallCheck","instance","e","t","n","r","s","o","u","a","require","f","Error","code","l","exports","1","module","SvgEditorElementFactory","SvgEditorElementTypes","SvgEditorDriver","canvas","arguments","undefined","this","_canvas","svgCanvas","_elements","type","config","element","make","SYMBOL","id","getNextId","getSymbol","dom","addSvgElementFromJson","curStyles","attr","d","getPathData","size","getSize","xScale","getRelativeScale","width","yScale","height","setAttribute","recalculateDimensions","position","getPosition","moveSelectedElements","x","y","IMAGE","style","setHref","base64","result","push","from","to","./enums/SvgEditorElementTypes","./factories/SvgEditorElementFactory","2","SvgEditorSymbols","data","SUM","SQRT","../enums/SvgEditorSymbols","3","window","Driver","SvgEditorElement","SvgEditorElementSize","SvgEditorElementPosition","./SvgEditorDriver","./elements/SvgEditorElement","./elements/SvgEditorElementPosition","./elements/SvgEditorElementSize","./enums/SvgEditorSymbols","4","_width","_height","_x","_y","5","6","7","SvgEditorImageElement","_SvgEditorElement","_this","getPrototypeOf","_base64","_reloadSize","_reloadPosition","getBoundingClientRect","left","top","../enums/SvgEditorElementTypes","./SvgEditorElement","./SvgEditorElementPosition","./SvgEditorElementSize","8","SvgEditorDriverSymbolNotDefinedError","SymbolData","SvgEditorSymbolElement","_SvgEditorElement2","symbol","_this2","_symbol","_symbolData","../data/Symbols","../exceptions/SvgEditorDriverSymbolNotDefinedError","9","PATH","10","11","12","../elements/SvgEditorImageElement","../elements/SvgEditorSymbolElement"],"mappings":"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","file":"driver.js","sourcesContent":["\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n(function () {\n    function e(t, n, r) {\n        function s(o, u) {\n            if (!n[o]) {\n                if (!t[o]) {\n                    var a = typeof require == \"function\" && require;if (!u && a) return a(o, !0);if (i) return i(o, !0);var f = new Error(\"Cannot find module '\" + o + \"'\");throw f.code = \"MODULE_NOT_FOUND\", f;\n                }var l = n[o] = { exports: {} };t[o][0].call(l.exports, function (e) {\n                    var n = t[o][1][e];return s(n ? n : e);\n                }, l, l.exports, e, t, n, r);\n            }return n[o].exports;\n        }var i = typeof require == \"function\" && require;for (var o = 0; o < r.length; o++) {\n            s(r[o]);\n        }return s;\n    }return e;\n})()({ 1: [function (require, module, exports) {\n        var SvgEditorElementFactory = require('./factories/SvgEditorElementFactory');\n        var SvgEditorElementTypes = require('./enums/SvgEditorElementTypes');\n\n        var SvgEditorDriver = function () {\n\n            /**\r\n             * Construct the driver instance.\r\n             * @param canvas\r\n             */\n            function SvgEditorDriver() {\n                var canvas = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n                _classCallCheck(this, SvgEditorDriver);\n\n                if (canvas == null) {\n                    this._canvas = svgCanvas;\n                } else {\n                    this._canvas = canvas;\n                }\n                this._elements = {};\n            }\n\n            /**\r\n             * Create a new element.\r\n             * @param type\r\n             * @param config\r\n             * @returns {SvgEditorElement}\r\n             */\n\n\n            _createClass(SvgEditorDriver, [{\n                key: \"createElement\",\n                value: function createElement(type, config) {\n                    var element = SvgEditorElementFactory.make(type, config);\n                    switch (element.type) {\n                        // It is a symbol element\n                        case SvgEditorElementTypes.SYMBOL:\n                            element.id = this._canvas.getNextId() + \"_\" + element.getSymbol();\n                            element.dom = this._canvas.addSvgElementFromJson({\n                                \"element\": \"path\",\n                                \"curStyles\": true,\n                                \"attr\": {\n                                    \"d\": element.getPathData(),\n                                    \"id\": element.id\n                                }\n                            });\n                            // Set element DOM size and position\n                            var size = element.getSize();\n                            var xScale = SvgEditorDriver.getRelativeScale(size.width, config.width);\n                            var yScale = SvgEditorDriver.getRelativeScale(size.height, config.height);\n                            element.dom.setAttribute(\"transform\", \"scale(\" + xScale + \",\" + yScale + \")\");\n                            this._canvas.recalculateDimensions(element.dom); // TODO: Still need to do proper scaling function\n                            var position = element.getPosition();\n                            // Move element to correct position, third parameter is false so this action cannot be undone\n                            this._canvas.moveSelectedElements(config.x - position.x, config.y - position.y, false, [element.dom]);\n                            break;\n                        // It is a image element\n                        case SvgEditorElementTypes.IMAGE:\n                            element.id = this._canvas.getNextId() + \"_image\";\n                            element.dom = this._canvas.addSvgElementFromJson({\n                                \"element\": \"image\",\n                                \"attr\": {\n                                    \"x\": config.x,\n                                    \"y\": config.y,\n                                    \"width\": config.width,\n                                    \"height\": config.height,\n                                    \"id\": element.id,\n                                    \"style\": \"pointer-events:inherit\"\n                                }\n                            });\n                            this._canvas.setHref(element.dom, config.base64);\n                            // We add a xlink property so SVG can be parsed properly\n                            element.dom.setAttribute(\"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\n                            break;\n                    }\n\n                    // Push element to local storage\n                    this._elements[element.id] = element;\n\n                    return element;\n                }\n\n                /**\r\n                 * Find a element by its ID.\r\n                 * @param id\r\n                 * @returns {SvgEditorElement|boolean}\r\n                 */\n\n            }, {\n                key: \"findElementById\",\n                value: function findElementById(id) {\n                    if (this._elements[id]) {\n                        return this._elements[id];\n                    } else {\n                        return false;\n                    }\n                }\n\n                /**\r\n                 * Get all elements of one type.\r\n                 * Complexity O(n), do not use this too often.\r\n                 * @param type\r\n                 */\n\n            }, {\n                key: \"findElementsByType\",\n                value: function findElementsByType(type) {\n                    var result = [];\n                    for (var key in this._elements) {\n                        if (this._elements[key].type === type) {\n                            result.push(this._elements[key]);\n                        }\n                    }\n                    return result;\n                }\n\n                /**\r\n                 * Get all elements in an array.\r\n                 * @returns {SvgEditorElement[]}\r\n                 */\n\n            }, {\n                key: \"getAllElements\",\n                value: function getAllElements() {\n                    var result = [];\n                    for (var key in this._elements) {\n                        result.push(this._elements[key]);\n                    }\n                    return result;\n                }\n\n                /**\r\n                 * Helper to find relative scale factor.\r\n                 * @param from\r\n                 * @param to\r\n                 * @returns {number}\r\n                 */\n\n            }], [{\n                key: \"getRelativeScale\",\n                value: function getRelativeScale(from, to) {\n                    return to / from;\n                }\n            }]);\n\n            return SvgEditorDriver;\n        }();\n\n        module.exports = SvgEditorDriver;\n    }, { \"./enums/SvgEditorElementTypes\": 9, \"./factories/SvgEditorElementFactory\": 12 }], 2: [function (require, module, exports) {\n        var SvgEditorSymbols = require('../enums/SvgEditorSymbols');\n\n        var data = {};\n\n        data[SvgEditorSymbols.SUM] = \"m126.45467,174.437l-113.5001,134.29466c-2.49984,2.87774 -3,3.35722 -3,4.79624c0,3.35722 3,3.35722 8.99999,3.35722l263.99986,0l27.50014,-76.26003l-7.99999,0c-7.99999,23.02194 -28.99998,41.72712 -56.50014,50.36034c-4.99999,1.91849 -26.99998,9.113 -73.99996,9.113l-135.49978,0l110.99995,-131.41692c2,-2.87774 2.49984,-3.35752 2.49984,-4.79624c0,-1.43902 0,-1.43902 -2,-4.31676l-103.49978,-136.21315l125.99993,0c36.49982,0 109.99995,1.91849 131.99994,58.99388l7.99999,0l-27.50014,-71.46411l-263.99986,0c-8.99999,0 -8.99999,0.47977 -8.99999,9.59248l116.5001,153.95939l0,-0.00001zm0,0\";\n        data[SvgEditorSymbols.SQRT] = \"M133.45757,302.23514L127.90965,175.37415L507.30505,174.22819L129.33541,174.2829C130.70946,215.61172 132.08352,256.94053 133.45757,298.26935L115.52818,284.66933L133.45757,302.23514z\";\n\n        module.exports = data;\n    }, { \"../enums/SvgEditorSymbols\": 10 }], 3: [function (require, module, exports) {\n        window.Driver = {\n            SvgEditorDriver: require('./SvgEditorDriver'),\n            SvgEditorElement: require('./elements/SvgEditorElement'),\n            SvgEditorElementSize: require('./elements/SvgEditorElementSize'),\n            SvgEditorElementPosition: require('./elements/SvgEditorElementPosition'),\n            SvgEditorElementTypes: require('./enums/SvgEditorElementTypes'),\n            SvgEditorSymbols: require('./enums/SvgEditorSymbols')\n        };\n    }, { \"./SvgEditorDriver\": 1, \"./elements/SvgEditorElement\": 4, \"./elements/SvgEditorElementPosition\": 5, \"./elements/SvgEditorElementSize\": 6, \"./enums/SvgEditorElementTypes\": 9, \"./enums/SvgEditorSymbols\": 10 }], 4: [function (require, module, exports) {\n        var SvgEditorElement = function () {\n\n            /**\r\n             * Base constructor\r\n             * @param width\r\n             * @param height\r\n             * @param x\r\n             * @param y\r\n             */\n            function SvgEditorElement(width, height) {\n                var x = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n                var y = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n                _classCallCheck(this, SvgEditorElement);\n\n                this._width = width;\n                this._height = height;\n                this._x = x;\n                this._y = y;\n                this.dom = null;\n                this.type = -1;\n            }\n\n            /**\r\n             * Get element size\r\n             */\n\n\n            _createClass(SvgEditorElement, [{\n                key: \"getSize\",\n                value: function getSize() {\n                    throw \"Method getSize not implemented\";\n                }\n\n                /**\r\n                 * Get element position\r\n                 */\n\n            }, {\n                key: \"getPosition\",\n                value: function getPosition() {\n                    throw \"Method getPosition not implemented\";\n                }\n            }]);\n\n            return SvgEditorElement;\n        }();\n\n        module.exports = SvgEditorElement;\n    }, {}], 5: [function (require, module, exports) {\n        var SvgEditorElementPosition = function SvgEditorElementPosition(x, y) {\n            _classCallCheck(this, SvgEditorElementPosition);\n\n            this.x = x;\n            this.y = y;\n        };\n\n        module.exports = SvgEditorElementPosition;\n    }, {}], 6: [function (require, module, exports) {\n        var SvgEditorElementSize = function SvgEditorElementSize(width, height) {\n            _classCallCheck(this, SvgEditorElementSize);\n\n            this.width = width;\n            this.height = height;\n        };\n\n        module.exports = SvgEditorElementSize;\n    }, {}], 7: [function (require, module, exports) {\n        var SvgEditorElementTypes = require('../enums/SvgEditorElementTypes');\n        var SvgEditorElement = require('./SvgEditorElement');\n        var SvgEditorElementSize = require('./SvgEditorElementSize');\n        var SvgEditorElementPosition = require('./SvgEditorElementPosition');\n\n        /**\r\n         * Class representing an image\r\n         */\n\n        var SvgEditorImageElement = function (_SvgEditorElement) {\n            _inherits(SvgEditorImageElement, _SvgEditorElement);\n\n            /**\r\n             * Construct the image element\r\n             * @param width\r\n             * @param height\r\n             * @param x\r\n             * @param y\r\n             * @param base64\r\n             */\n            function SvgEditorImageElement(width, height, x, y, base64) {\n                _classCallCheck(this, SvgEditorImageElement);\n\n                var _this = _possibleConstructorReturn(this, (SvgEditorImageElement.__proto__ || Object.getPrototypeOf(SvgEditorImageElement)).call(this, width, height, x, y));\n\n                _this._base64 = base64;\n                _this.type = SvgEditorElementTypes.IMAGE;\n                return _this;\n            }\n\n            /**\r\n             * Returns a SvgEditorElementSize object representing current size of the element.\r\n             * @returns {SvgEditorElementSize}\r\n             */\n\n\n            _createClass(SvgEditorImageElement, [{\n                key: \"getSize\",\n                value: function getSize() {\n                    this._reloadSize();\n                    return new SvgEditorElementSize(this._width, this._height);\n                }\n\n                /**\r\n                 * Returns a SvgEditorElementPosition object representing current position of the element.\r\n                 * @returns {SvgEditorElementPosition}\r\n                 */\n\n            }, {\n                key: \"getPosition\",\n                value: function getPosition() {\n                    this._reloadPosition();\n                    return new SvgEditorElementPosition(this._x, this._y);\n                }\n\n                /**\r\n                 * Reload size and set the private variable. This requires DOM to be set.\r\n                 * @private\r\n                 */\n\n            }, {\n                key: \"_reloadSize\",\n                value: function _reloadSize() {\n                    if (this.dom) {\n                        this._width = this.dom.getBoundingClientRect().width;\n                        this._height = this.dom.getBoundingClientRect().height;\n                    }\n                }\n\n                /**\r\n                 * Reload position and set the private variables. This requires DOM to be set.\r\n                 * @private\r\n                 */\n\n            }, {\n                key: \"_reloadPosition\",\n                value: function _reloadPosition() {\n                    if (this.dom) {\n                        this._x = this.dom.getBoundingClientRect().left;\n                        this._y = this.dom.getBoundingClientRect().top;\n                    }\n                }\n            }]);\n\n            return SvgEditorImageElement;\n        }(SvgEditorElement);\n\n        module.exports = SvgEditorImageElement;\n    }, { \"../enums/SvgEditorElementTypes\": 9, \"./SvgEditorElement\": 4, \"./SvgEditorElementPosition\": 5, \"./SvgEditorElementSize\": 6 }], 8: [function (require, module, exports) {\n        var SvgEditorSymbols = require('../enums/SvgEditorSymbols');\n        var SvgEditorElementTypes = require('../enums/SvgEditorElementTypes');\n        var SvgEditorElement = require('./SvgEditorElement');\n        var SvgEditorDriverSymbolNotDefinedError = require('../exceptions/SvgEditorDriverSymbolNotDefinedError');\n        var SvgEditorElementSize = require('./SvgEditorElementSize');\n        var SvgEditorElementPosition = require('./SvgEditorElementPosition');\n\n        var SymbolData = require('../data/Symbols');\n\n        /**\r\n         * Class representing a math symbol in the editor.\r\n         */\n\n        var SvgEditorSymbolElement = function (_SvgEditorElement2) {\n            _inherits(SvgEditorSymbolElement, _SvgEditorElement2);\n\n            /**\r\n             * Construct the symbol element\r\n             * @param width\r\n             * @param height\r\n             * @param x\r\n             * @param y\r\n             * @param symbol\r\n             */\n            function SvgEditorSymbolElement(width, height, x, y) {\n                var symbol = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : SvgEditorSymbols.SUM;\n\n                _classCallCheck(this, SvgEditorSymbolElement);\n\n                // Check to see if symbol is defined\n                var _this2 = _possibleConstructorReturn(this, (SvgEditorSymbolElement.__proto__ || Object.getPrototypeOf(SvgEditorSymbolElement)).call(this, width, height, x, y));\n\n                if (SymbolData[symbol]) {\n                    _this2._symbol = symbol;\n                    _this2._symbolData = SymbolData[symbol];\n                } else {\n                    throw new SvgEditorDriverSymbolNotDefinedError();\n                }\n                _this2.type = SvgEditorElementTypes.SYMBOL;\n                return _this2;\n            }\n\n            /**\r\n             * Get symbol path data, used to insert into canvas.\r\n             * @returns {string}\r\n             */\n\n\n            _createClass(SvgEditorSymbolElement, [{\n                key: \"getPathData\",\n                value: function getPathData() {\n                    return this._symbolData;\n                }\n\n                /**\r\n                 * Get current symbol enum value.\r\n                 * @returns {number|*}\r\n                 */\n\n            }, {\n                key: \"getSymbol\",\n                value: function getSymbol() {\n                    return this._symbol;\n                }\n\n                /**\r\n                 * Returns a SvgEditorElementSize object representing current size of the element.\r\n                 * @returns {SvgEditorElementSize}\r\n                 */\n\n            }, {\n                key: \"getSize\",\n                value: function getSize() {\n                    this._reloadSize();\n                    return new SvgEditorElementSize(this._width, this._height);\n                }\n\n                /**\r\n                 * Returns a SvgEditorElementPosition object representing current position of the element.\r\n                 * @returns {SvgEditorElementPosition}\r\n                 */\n\n            }, {\n                key: \"getPosition\",\n                value: function getPosition() {\n                    this._reloadPosition();\n                    return new SvgEditorElementPosition(this._x, this._y);\n                }\n\n                /**\r\n                 * Reload size and set the private variable. This requires DOM to be set.\r\n                 * @private\r\n                 */\n\n            }, {\n                key: \"_reloadSize\",\n                value: function _reloadSize() {\n                    if (this.dom) {\n                        this._width = this.dom.getBoundingClientRect().width;\n                        this._height = this.dom.getBoundingClientRect().height;\n                    }\n                }\n\n                /**\r\n                 * Reload position and set the private variables. This requires DOM to be set.\r\n                 * @private\r\n                 */\n\n            }, {\n                key: \"_reloadPosition\",\n                value: function _reloadPosition() {\n                    if (this.dom) {\n                        this._x = this.dom.getBoundingClientRect().left;\n                        this._y = this.dom.getBoundingClientRect().top;\n                    }\n                }\n            }]);\n\n            return SvgEditorSymbolElement;\n        }(SvgEditorElement);\n\n        module.exports = SvgEditorSymbolElement;\n    }, { \"../data/Symbols\": 2, \"../enums/SvgEditorElementTypes\": 9, \"../enums/SvgEditorSymbols\": 10, \"../exceptions/SvgEditorDriverSymbolNotDefinedError\": 11, \"./SvgEditorElement\": 4, \"./SvgEditorElementPosition\": 5, \"./SvgEditorElementSize\": 6 }], 9: [function (require, module, exports) {\n        module.exports = {\n            SYMBOL: 0,\n            IMAGE: 1,\n            PATH: 2\n        };\n    }, {}], 10: [function (require, module, exports) {\n        module.exports = {\n            SUM: 0,\n            SQRT: 1\n        };\n    }, {}], 11: [function (require, module, exports) {\n        var SvgEditorDriverSymbolNotDefinedError = function SvgEditorDriverSymbolNotDefinedError() {\n            _classCallCheck(this, SvgEditorDriverSymbolNotDefinedError);\n        };\n\n        module.exports = SvgEditorDriverSymbolNotDefinedError;\n    }, {}], 12: [function (require, module, exports) {\n        var SvgEditorElementTypes = require('../enums/SvgEditorElementTypes');\n        var SvgEditorSymbolElement = require('../elements/SvgEditorSymbolElement');\n        var SvgEditorImageElement = require('../elements/SvgEditorImageElement');\n\n        var SvgEditorElementFactory = function () {\n            function SvgEditorElementFactory() {\n                _classCallCheck(this, SvgEditorElementFactory);\n            }\n\n            _createClass(SvgEditorElementFactory, null, [{\n                key: \"make\",\n                value: function make(type, config) {\n                    switch (type) {\n                        /**\r\n                         * For this case, 5 configurations are required:\r\n                         * (float) width             - Element width in pixels\r\n                         * (float) height            - Element height in pixels\r\n                         * (float) x                 - Element x position in pixels, from left\r\n                         * (float) y                 - Element y position in pixels, from top\r\n                         * (SvgEditorSymbols) symbol - Symbol this element represents\r\n                         */\n                        case SvgEditorElementTypes.SYMBOL:\n                            return new SvgEditorSymbolElement(config.width, config.height, config.x, config.y, config.symbol);\n                        case SvgEditorElementTypes.IMAGE:\n                            return new SvgEditorImageElement(config.width, config.height, config.x, config.y, config.base64);\n                    }\n                }\n            }]);\n\n            return SvgEditorElementFactory;\n        }();\n\n        module.exports = SvgEditorElementFactory;\n    }, { \"../elements/SvgEditorImageElement\": 7, \"../elements/SvgEditorSymbolElement\": 8, \"../enums/SvgEditorElementTypes\": 9 }] }, {}, [3]);"]}